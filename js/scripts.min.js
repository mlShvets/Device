const slides=document.querySelectorAll(".promo-slider__item"),dots=document.querySelectorAll(".switcher__btn");let index=0;const activeSlide=e=>{for(const e of slides)e.classList.remove("promo-slider__item--current");slides[e].classList.add("promo-slider__item--current")},activeDot=e=>{for(const e of dots)e.classList.remove("switcher__btn--current");dots[e].classList.add("switcher__btn--current")};dots.forEach(((e,t)=>{e.addEventListener("click",(()=>{index=t,activeSlide(index),activeDot(index)}))}));const tabs=document.querySelectorAll(".services-switcher__btn"),tabsContent=document.querySelectorAll(".services-description__item"),tabsParent=document.querySelector(".services-switcher__list");function hideTabContent(){tabsContent.forEach((e=>{e.classList.remove("services-description__item--current")})),tabs.forEach((e=>{e.classList.remove("services-switcher__btn--current")}))}function showTabContent(e=0){tabsContent[e].classList.add("services-description__item--current"),tabs[e].classList.add("services-switcher__btn--current")}hideTabContent(),showTabContent(),tabsParent.addEventListener("click",(e=>{const t=e.target;t&&t.classList.contains("services-switcher__btn")&&tabs.forEach(((e,a)=>{t===e&&(hideTabContent(),showTabContent(a))}))}));const mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal__close"),mapLink=document.querySelector(".contacts__map-link");mapLink.addEventListener("click",(e=>{e.preventDefault(),mapPopup.classList.add("modal--show")})),mapClose.addEventListener("click",(e=>{e.preventDefault(),mapPopup.classList.remove("modal--show")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&mapPopup.classList.contains("modal--show")&&(e.preventDefault(),mapPopup.classList.remove("modal--show"))}));const feedbackPopup=document.querySelector(".feedback"),feedbackClose=feedbackPopup.querySelector(".modal__close"),feedbackLink=document.querySelector(".contacts__link"),feedbackForm=feedbackPopup.querySelector(".feedback__form"),feedbackName=feedbackPopup.querySelector("[name=name]"),feedbackEmail=feedbackPopup.querySelector("[name=email]"),feedbackTextarea=feedbackPopup.querySelector("[name=message]");let isStorageSupport=!0,storagename="",storageemail="";try{storagename=localStorage.getItem("name"),storageemail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}feedbackLink.addEventListener("click",(e=>{e.preventDefault(),feedbackPopup.classList.add("modal--show"),storagename||storageemail?(feedbackName.value=storagename,feedbackEmail.value=storageemail,feedbackTextarea.focus()):feedbackName.focus()})),feedbackClose.addEventListener("click",(e=>{e.preventDefault(),feedbackPopup.classList.remove("modal--show"),feedbackPopup.classList.remove("modal--error")})),feedbackForm.addEventListener("submit",(e=>{feedbackName.value&&feedbackEmail.value&&feedbackTextarea.value?isStorageSupport&&(localStorage.setItem("name",feedbackName.value),localStorage.setItem("email",feedbackEmail.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal--error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal--error"))})),feedbackLink.addEventListener("click",(e=>{e.preventDefault(),feedbackPopup.classList.add("modal--show")})),feedbackClose.addEventListener("click",(e=>{e.preventDefault(),feedbackPopup.classList.remove("modal--show")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&feedbackPopup.classList.contains("modal--show")&&(e.preventDefault(),feedbackPopup.classList.remove("modal--show"))}));